"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{1995:function(t,e,r){var n=r(5893);r(7294),e.Z=t=>{let{x1:e,y1:r,x2:s,y2:a,className:i,color:l="black"}=t;return(0,n.jsxs)("g",{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("marker",{id:"head",orient:"auto",markerWidth:"2",markerHeight:"4",refX:"0.1",refY:"2",children:(0,n.jsx)("path",{d:"M0,0 V4 L2,2 Z",fill:l})})}),(0,n.jsx)("line",{x1:e,y1:r,x2:s,y2:a,markerEnd:"url(#head)",stroke:l,className:i})]})}},6363:function(t,e,r){r(7294);let n=r(964).default.button.withConfig({componentId:"sc-94e1f121-0"})(["cursor:pointer;background:none;border:1px solid lightgray;padding:10px;margin:0;border-radius:4px;font-size:1rem;"]);e.Z=n},7994:function(t,e,r){r.d(e,{Z:function(){return m}});var n=r(5893),s=r(7294),a=r(773),i=r.n(a),l=r(1642),o=r.n(l),h=r(964),d=r(204),c=r(8610),p=r(8979),u=r(1995);let g=t=>{let e=t[t.length-1],r=e?e.arrows.slice():[],n=e?e.active.slice():[],s=e?e.pruned.slice():[];return{arrows:r,depth:e?e.depth:0,active:n,pruned:s,rewards:e?new Map(e.rewards):new Map}},f=(t,e)=>{let r=g(t);t.push({...r,...e})};var x=t=>{let{tree:e,rewards:r,node:n,parent:s,depths:a,states:i,alphaBeta:l,alpha:o,beta:h}=t,d=e.get(n);if(d){let t=-1/0,s=-1,c=!1;for(let p=0;p<d.length;p++){let u=d[p],x=function t(e){let{tree:r,rewards:n,parent:s,depths:a,node:i,states:l,alpha:o,beta:h,alphaBeta:d}=e,c=r.get(i),p=!c||0===c.length,{active:u,depth:x,arrows:v}=g(l);if(v.push({node1:s,node2:i,up:!1}),p&&u.push(i),f(l,{arrows:v,active:u,depth:x+1}),x+1>a.length-1&&a.push(i),p)return n.get(i)||0;let w=1/0,b=!1;for(let e=0;e<c.length;e++){let s=c[e],p=function(e){let{tree:r,rewards:n,parent:s,depths:a,node:i,states:l,alpha:o,beta:h,alphaBeta:d}=e,c=r.get(i),p=!c||0===c.length,{active:u,depth:x,arrows:v}=g(l);if(v.push({node1:s,node2:i,up:!1}),p&&u.push(i),f(l,{arrows:v,active:u,depth:x+1}),x+1>a.length-1&&a.push(i),p)return n.get(i)||0;let w=-1/0,b=!1;for(let e=0;e<c.length;e++){let s=c[e],p=t({tree:r,alpha:o,beta:h,states:l,depths:a,rewards:n,alphaBeta:d,node:s,parent:i}),{active:u,rewards:x,depth:v,arrows:m}=g(l);if(m.push({node1:s,node2:i,up:!0}),b=(o=Math.max(o,p))>=h,p>=w&&(w=p,x.set(i,p)),(e===c.length-1||b)&&u.push(i),f(l,{arrows:m,active:u,depth:v-1,rewards:x}),b&&d)break}return w}({tree:r,alpha:o,beta:h,states:l,depths:a,rewards:n,alphaBeta:d,node:s,parent:i}),{active:u,rewards:x,depth:v,arrows:m}=g(l);if(m.push({node1:s,node2:i,up:!0}),b=o>=(h=Math.min(h,p)),o<=w&&(w=p,x.set(i,p)),(e===c.length-1||b)&&u.push(i),f(l,{arrows:m,active:u,depth:v-1,rewards:x}),b&&d)break}return w}({tree:e,alpha:o,beta:h,depths:a,states:i,rewards:r,alphaBeta:l,node:u,parent:n}),{active:v,rewards:w,depth:b,arrows:m}=g(i);if(m.push({node1:u,node2:n,up:!0}),c=(o=Math.max(o,x))>=h,x>=t&&(t=x,s=p,w.set(n,x)),p===d.length-1&&v.push(n),f(i,{arrows:m,active:v,depth:b-1,rewards:w}),c&&l)break}return d[s]}console.log("Could not find tree root")};class v extends s.Component{render(){let{vertexMap:t,rootNode:e,onError:r,treeOptions:s}=this.props,{states:a,depths:i}=this.getStates();return(0,n.jsx)(w,{states:a,children:a=>{let{rewards:l,active:h,arrows:d}=a;return(0,n.jsx)(o(),{width:200,height:85,rootId:e,nodeSize:5,vertices:t,levelSeparation:20,maxDepth:1/0,siblingSeparation:15,subtreeSeparation:15,onError:r,...s,children:t=>{let{x:r,y:s,id:a,graph:o}=t;return(0,n.jsxs)("g",{children:[a===e&&this.renderArrows(o,d),a===e&&this.renderLayerLabels(o,i),(0,n.jsx)("circle",{cx:r,cy:a===e?s+1:s,r:5,fill:h.includes(a)?"rgb(15, 98, 189)":"white",stroke:"black","stroke-width":.5}),(0,n.jsx)(c.Z,{x:r,y:a===e?s+1:s,label:void 0===l.get(a)?"?":l.get(a),color:h.includes(a)?"white":"black"})]})}})}})}constructor(...t){super(...t),this.getStates=()=>{let{rewards:t,vertexMap:e,rootNode:r,alphaBeta:n,minStart:s}=this.props,a=[{rewards:t,active:[],pruned:[],depth:0,arrows:[]}],i=[r];return x({states:a,depths:i,rewards:t,minStart:s,alphaBeta:n,tree:e,parent:null,node:r,alpha:-1/0,beta:1/0}),{states:a,depths:i}},this.renderArrows=i()((t,e)=>e.map(e=>{let{node1:r,node2:s,up:a}=e;return(0,n.jsx)(u.Z,{...(0,d.Z)(t,r,s,a),color:"lightgray"})})),this.renderLayerLabels=(t,e)=>{let r=this.props.minStart?1:0;return e.map((e,s)=>(0,n.jsx)(b,{x:0,y:t.yCoord(e)+2,children:s%2===r?"max":"min"}))}}}let w=(0,h.default)(p.Z).withConfig({componentId:"sc-916fd3f7-0"})(["width:100%;"]),b=h.default.text.withConfig({componentId:"sc-916fd3f7-1"})(["font-size:5px;"]);var m=v},8979:function(t,e,r){r.d(e,{Z:function(){return F}});var n,s,a,i,l,o,h,d,c,p,u=r(2729),g=r(5893),f=r(7294),x=r(964),v=r(9821),w=r(4063),b=r.n(w);let m=(0,x.default)(v.Flex).withConfig({componentId:"sc-c7a8b72-0"})(["button{border-radius:0;border-right:none;border-left:none;}button:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px;border-left:1px solid lightgray;}button:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;border-right:1px solid lightgray;}"]);var y=r(6363),j=r(565);function M(){return(M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var k=function(t){return f.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:24,height:24},t),n||(n=f.createElement("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),s||(s=f.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};function S(){return(S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var C=function(t){return f.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:24,height:24},t),a||(a=f.createElement("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),i||(i=f.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};function O(){return(O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var E=function(t){return f.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},t),l||(l=f.createElement("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),o||(o=f.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};function I(){return(I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var P=function(t){return f.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},t),h||(h=f.createElement("path",{d:"M8 5v14l11-7z"})),d||(d=f.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};function Z(){return(Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var z=function(t){return f.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},t),c||(c=f.createElement("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),p||(p=f.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))};function N(){let t=(0,u._)(["\n    margin-bottom: 15px;\n    width: 100%;\n\n    button {\n      display: flex;\n      flex: 1 1 auto;\n    }\n  "]);return N=function(){return t},t}class A extends f.Component{componentWillReceiveProps(t){b()(this.props.states,t.states)||(clearInterval(this.interval),this.setState({isPlaying:!1,state:t.states[t.initialIndex||0]}))}render(){return(0,g.jsxs)(L,{className:this.props.className,children:[(0,g.jsxs)(H,{children:[(0,g.jsx)(y.Z,{onClick:this.onBack,children:(0,g.jsx)(k,{})}),(0,g.jsx)(y.Z,{onClick:this.onForward,children:(0,g.jsx)(C,{})}),(0,g.jsx)(y.Z,{onClick:this.onAutoPlay,children:this.state.isPlaying?(0,g.jsx)(z,{}):(0,g.jsx)(P,{})}),(0,g.jsx)(y.Z,{onClick:this.resetState,children:(0,g.jsx)(E,{})})]}),this.props.children(this.state.state)]})}constructor(t){super(t),this.onBack=()=>{if(0===this.state.index){clearInterval(this.interval);return}let t=this.state.index-1;this.setNewState(t)},this.onForward=()=>{if(this.state.index>=this.props.states.length-1){clearInterval(this.interval),this.setState({isPlaying:!1});return}let t=this.state.index+1;this.setNewState(t)},this.onAutoPlay=()=>{if(this.state.isPlaying){clearInterval(this.interval),this.setState({isPlaying:!1});return}this.setState({isPlaying:!0}),this.interval=setInterval(()=>{this.onForward()},this.props.stepInterval||1e3)},this.setNewState=t=>{this.setState({index:t,state:this.props.states[t]})},this.resetState=()=>{let{states:t,initialIndex:e}=this.props;clearInterval(this.interval),this.setState({index:0,state:t[e||0]})},this.state={index:0,isPlaying:!1,state:t.states[t.initialIndex||0]}}}let H=(0,x.default)(t=>{let{children:e,className:r}=t;return(0,g.jsx)(m,{className:r,children:e})}).withConfig({componentId:"sc-afa36ea6-0"})(["display:flex;align-self:flex-end;",";"],j.Z.mobile(N())),L=(0,x.default)(v.Flex).withConfig({componentId:"sc-afa36ea6-1"})(["flex-direction:column;"]);var F=A},8610:function(t,e,r){var n=r(5893);r(7294),e.Z=t=>{let{x:e,y:r,label:s,color:a="white"}=t;return(0,n.jsx)("text",{x:e,y:(r||0)+1.5,style:{fontSize:5},textAnchor:"middle",fill:a,children:s})}},204:function(t,e,r){r.d(e,{Z:function(){return n}});function n(t,e,r,n){arguments.length>4&&void 0!==arguments[4]&&arguments[4];let s=t.xCoord(e),a=t.yCoord(e),i=t.xCoord(r),l=t.yCoord(r),o=i-s,h=l-a,d=Math.abs(Math.atan(h/o)),c=2*Math.abs(Math.cos(Math.PI/2-d))*(n?1:-1),p=2*Math.abs(Math.sin(Math.PI/2-d))*Math.sign(o);return s+=c,a+=p,i+=c,l+=p,c=Math.abs(7*Math.cos(d)),p=Math.abs(7*Math.sin(d)),s+=c*Math.sign(o),{x1:s,y1:a+=p*Math.sign(h),x2:i-=c*Math.sign(o),y2:l-=p*Math.sign(h)}}}}]);