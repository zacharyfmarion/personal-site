<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><style>
  body {
    margin: 0;
  }
</style><meta name="next-head-count" content="3"/><link rel="apple-touch-icon" sizes="57x57" href="/static/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/static/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/static/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/static/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/static/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/static/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/static/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/static/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/static/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png"/><link rel="manifest" href="/static/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/static/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-18e1e020f3fa96ee.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-5429a50ba5373c56.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-72cd581c1e9bd837.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-534504a988f2eee0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/869-9fae415c3896bc3c.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/34-5497512691aad03c.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/685-6fc3a347be388595.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/posts/react-svg-tree-5df930da02ae0ce4.js" defer="" crossorigin=""></script><script src="/_next/static/uGB_ha5Pxv7vIooKYAu7S/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/uGB_ha5Pxv7vIooKYAu7S/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css?family=Frank+Ruhl+Libre">@font-face{font-family:'Frank Ruhl Libre';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/frankruhllibre/v20/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw7FYWqXNRM.woff) format('woff')}@font-face{font-family:'Frank Ruhl Libre';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/frankruhllibre/v20/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw7FYWqVNRNUFFR-39-mvA.woff) format('woff');unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:'Frank Ruhl Libre';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/frankruhllibre/v20/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw7FYWqZNRNUFFR-39-mvA.woff) format('woff');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Frank Ruhl Libre';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/frankruhllibre/v20/j8_96_fAw7jrcalD7oKYNX0QfAnPcbzNEEB7OoicBw7FYWqXNRNUFFR-398.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css?family=Montserrat:400,600">@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw5aXw.woff) format('woff')}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCu173w5aXw.woff) format('woff')}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WdhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WdhyyTh89ZNpQ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Montserrat';font-style:normal;font-weight:600;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body id="root"><div id="__next"><div class="sc-hLBatu iHACJd"><div class="sc-bcXGCL VcdgP sc-gswONk jJGXTe"><div src="https://images.unsplash.com/photo-1515863149848-223cbed59017?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ&amp;s=58d13630d6c133bb32e0c7dc48eb4216" class="sc-bYMqJM sc-a8756d2c-5 ksUrSk gavqga"><div background="transparent" class="sc-bcXGCL cSuqpF sc-gswONk sc-cbbb1914-4 fbEOhe jZzrtR"><div class="sc-bcXGCL VcdgP sc-jIRdtd sc-cbbb1914-5 gdYpOE eFhDfj"><h2 class="sc-csuRvn fRegPd"><div class="sc-bcXGCL VcdgP sc-gswONk sc-cbbb1914-3 fbEOhe jwNSbT"><a href="/">Zachary Marion</a></div></h2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" background="transparent" class="sc-cbbb1914-0 hpSGaO"><path fill="none" d="M0 0h24v24H0z"></path><path d="M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"></path></svg><div class="sc-bcXGCL VcdgP sc-gswONk sc-cbbb1914-2 hTHaTy efFrwC"><div class="sc-bcXGCL VcdgP sc-gswONk sc-cbbb1914-3 fbEOhe jwNSbT"><a href="/demos">Demos</a></div><div class="sc-bcXGCL VcdgP sc-gswONk sc-cbbb1914-3 fbEOhe jwNSbT"><a href="/posts">Blog</a></div><div class="sc-bcXGCL VcdgP sc-gswONk sc-cbbb1914-3 fbEOhe jwNSbT"><a href="/contact">Contact</a></div></div></div></div><div class="sc-bcXGCL VcdgP sc-gswONk sc-a8756d2c-2 jJGXTe QbwNv"><h1 class="sc-csuRvn sc-a8756d2c-0 hIqLEa hKJPji">Rendering an SVG Tree in React</h1><h6 class="sc-csuRvn sc-a8756d2c-1 kMFaSB kedqAL">09-03-2018</h6></div></div><div class="sc-bcXGCL iilstT sc-jIRdtd sc-2f162577-0 gdYpOE hiZdhe"><p class="sc-93f9549b-5 sc-8263f274-0 fFWCin cetnAL"><p class="sc-93f9549b-5 fFWCin">So in between my last post and this one, I realized that I wanted to create
some tree animations to show some common tree operations and explain more
gracefully how the minimax algorithm worked. Because I&#x27;m a react addict, I
wanted a react component that could render easily animatable svg paths. After
an admittedly short time googling this, I didn&#x27;t come across any great
options. One component,<!-- --> <!-- -->
<a href="https://github.com/bkrem/react-d3-tree" class="sc-ftTHlr eioCwW">React d3 Tree</a>, did
do most of what I wanted, but I didn&#x27;t really want to bring in d3 as a
dependency for something so simple.</p></p>
<p class="sc-93f9549b-5 fFWCin">Well, turns out it isn&#x27;t so simple. Rendering a general tree is actually quite a difficult problem. More specifically, determining the x-coordinates for a particular node at a given depth in the tree is annoyingly nontrivial. The y-coordinates are just evenly spaced at a given depth separation value, so figuring them out is as simple as multiplying the depth of the node by the depth separation constant. To get an idea as to why this is, feel free to click around in the demo below. Clicking on a node will add a child. Note how adding a bunch of children in a different subtree can affect the subtrees to the left or right.</p>
<div><button class="sc-94e1f121-0 dESyMD">Reset Tree</button><svg viewBox="0 0 200 100"><line x1="100" y1="5" x2="80" y2="25" stroke="#000" stroke-width="1"></line><line x1="100" y1="5" x2="100" y2="25" stroke="#000" stroke-width="1"></line><line x1="100" y1="5" x2="120" y2="25" stroke="#000" stroke-width="1"></line><g style="cursor:pointer"><circle cx="100" cy="5" r="5" fill="rgb(15, 98, 189)"></circle><text x="100" y="6.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><line x1="80" y1="25" x2="70" y2="45" stroke="#000" stroke-width="1"></line><line x1="80" y1="25" x2="90" y2="45" stroke="#000" stroke-width="1"></line><g style="cursor:pointer"><circle cx="80" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="80" y="26.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><g style="cursor:pointer"><circle cx="100" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="100" y="26.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><line x1="120" y1="25" x2="120" y2="45" stroke="#000" stroke-width="1"></line><g style="cursor:pointer"><circle cx="120" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="120" y="26.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><g style="cursor:pointer"><circle cx="70" cy="45" r="5" fill="rgb(15, 98, 189)"></circle><text x="70" y="46.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><g style="cursor:pointer"><circle cx="90" cy="45" r="5" fill="rgb(15, 98, 189)"></circle><text x="90" y="46.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g><g style="cursor:pointer"><circle cx="120" cy="45" r="5" fill="rgb(15, 98, 189)"></circle><text x="120" y="46.5" style="font-size:5px" text-anchor="middle" fill="#fff">+</text></g></svg></div>
<h2>But there&#x27;s hope!</h2>
<p class="sc-93f9549b-5 fFWCin">Fortunately, I&#x27;m not the only person who has had this problem. After another quick google search I came across <a href="http://www.cs.unc.edu/techreports/89-034.pdf">this paper</a>, written by a UNC professor from my home state. It was written in 1989, well before I was born, but I figured trees hadn&#x27;t really changed a whole lot since then so it should be alright. The paper describes an algorithm for finding the optimal aesthetic positioning of x-coordinates in a general n-ary tree (meaning a graph with one root, no cycles, and nodes with any number of children). The basic algorithm takes part in two steps:</p>
<ol>
<li class="sc-ipEzrc fJRvpZ sc-93f9549b-8 ezemUC">Do a first-pass traversal of the tree and save preliminary x-coordinate values for each node</li>
<li class="sc-ipEzrc fJRvpZ sc-93f9549b-8 ezemUC">Do a second path and determine the final positions of the nodes.</li>
</ol>
<p class="sc-93f9549b-5 fFWCin">Wow, super easy right? Wrong again. The algorithm itself is much more complicated and outside of the scope of this post. I&#x27;d rather focus on my implementation of it, because I think that is less boring and way easier to explain.</p>
<h2>Making the component</h2>
<p class="sc-93f9549b-5 fFWCin">At my company, we use Flow, which is a type checker for javascript code. Essentially it is a superset of javascript that get&#x27;s compiled down into code that can be run in the browser. It adds the ability to define types for variables and functions in your code, which catches a lot of errors that a browser won&#x27;t catch because of the loosely-typed nature of js code. For this component, I decided to use Typescript, which is essentially the same thing as Flow, just better in every way. Okay so I&#x27;m opinionated, deal with it. I set up a basic create-react-app project with typescript and started by thinking about the shape of the component I was building. I wanted the ability to specify nodes as children of the <code class="sc-93f9549b-3 cLvVLf">&lt;Tree /&gt;</code> component, but this quickly becomes verbose for large trees, so I also wanted the ability to specify a data structure.</p>
<p class="sc-93f9549b-5 fFWCin">I intially settled on supporting both approaches - if there are children then they are rendered, otherwise a <code class="sc-93f9549b-3 cLvVLf">vertices</code> prop is required which the component uses to render the positioned nodes. For example, using the children API, you could render a tree like this:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">rootId</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">0</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Node</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">id</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">0</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">children</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token tag script number">1</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag script number">2</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag script number">3</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Node</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">id</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">1</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Node</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">id</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">2</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Node</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">id</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">3</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;/</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">Where <code class="sc-93f9549b-3 cLvVLf">&lt;Node /&gt;</code> would be a component exposed by the library that essentially rendered an svg <code class="sc-93f9549b-3 cLvVLf">&lt;circle/&gt;</code>. With the <code class="sc-93f9549b-3 cLvVLf">vertices</code> prop API, you could render the tree like this:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">new</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Map</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">rootId</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">0</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">I thought that this would make for a pretty flexible component, but I quickly ran into issues. For example, in one of the posts I was working on, I wanted to make a visualization of an depth first search using this component. Essentially all of the nodes would be grayed out initially and then once they were visited they would change to a brighter color. This seemed like a simple thing to do, but it quickly became extremely messy. Every node had to have a check to test whether or not it had been visited, and my render function became incredibly hard to read. Also, I was having to iterate over the children and essentially construct the same map that the vertex prop was giving me, so the children API was just a more verbose and slightly more customizable way of presenting the same data.</p>
<h2>Having my Cake and Eating it too</h2>
<p class="sc-93f9549b-5 fFWCin">So what was the solution? After giving it some more thought, this seemed like the perfect component for using the function-as-child approach. Essentially, the <code class="sc-93f9549b-3 cLvVLf">&lt;Tree /&gt;</code> component would accept a function as its child, and that function would be called to render each of the nodes in the tree. For example:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">new</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Map</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">rootId</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">0</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="8" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> id </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">circle</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">cx</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">cy</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">y</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">r</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">5</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="9" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;/</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">Now, conditionally rendering the color of the node would just involve adding a fill prop to the <code class="sc-93f9549b-3 cLvVLf">&lt;circle /&gt;</code> component and either rending gray or blue based on whether the node&#x27;s id was in the visited set. The child is also passed in the entire <code class="sc-93f9549b-3 cLvVLf">TreeMap</code> object, which contains the calculated positions of all this nodes. This allows for the arbitrary rendering of the tree, if you have enough imagination. For example, you could add an arrow showing the direction of a traversal, or modify a node&#x27;s position based on the position of its neighbor.</p>
<p class="sc-93f9549b-5 fFWCin">The final API looks like this:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">new</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Map</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">1</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">3</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="8" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">width</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">200</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">height</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">40</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">rootId</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">0</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">nodeSize</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">5</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">vertexMap</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="9" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> id </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="10" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">g</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="11" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">circle</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">cx</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">cy</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">y</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">r</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">5</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">fill</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain">rgb(15, 98, 189)</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="12" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TextLabel</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">y</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">y</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">label</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">id</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="13" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;/</span><span class="sc-93f9549b-1 eQfNpg token plain">g</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="14" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="15" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;/</span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="16" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<h2>Implementation</h2>
<p class="sc-93f9549b-5 fFWCin">The component renders an svg, so the render method is wrapped in an <code class="sc-93f9549b-3 cLvVLf">svg</code> tag. The children of the svg are rendered in a separate function to keep the render method clean. This function, <code class="sc-93f9549b-3 cLvVLf">renderTree</code>, creates a <code class="sc-93f9549b-3 cLvVLf">TreeGraph</code>, which is a helper class I created that conatins all of the operations necessary for the algorithm described in the referenced paper. Once this obejct is created, the function <code class="sc-93f9549b-3 cLvVLf">positionTree</code> is called, which actually runs the positioning algorithm and stores the resulting information in the <code class="sc-93f9549b-3 cLvVLf">TreeGraph</code> object. This information is then used to actually render the nodes and their connections in <code class="sc-93f9549b-3 cLvVLf">renderFromVertexMap</code>:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">renderFromVertexMap </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">|</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> children </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">if</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token operator">!</span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">forEach</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// Get the final position of the node after the algorithm has been run</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">getCoordinates</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="8" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// Create a node using the function-as-child. Note that we also pass in</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="9" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// the entire treeGraph as a parameter as an escape hatch to render arbitrary</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="10" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// svg elements based on the final positions of the nodes</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="11" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> createdNode </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token function">children</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="12" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="13" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="14" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      id</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="15" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      r</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">nodeSizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token keyword">get</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">||</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token constant">DEFAULT_NODE_SIZE</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="16" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      graph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="17" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="18" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// First we push the line between a node and it&#x27;s children, because of the</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="19" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// way svg layer ordering works</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="20" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">push</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">createChildConnections</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="21" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// Then we push the node</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="22" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">push</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">createdNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="23" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="24" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="25" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="26" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">The array of svg nodes is then returned from <code class="sc-93f9549b-3 cLvVLf">renderTree</code> and becomes the children of the root <code class="sc-93f9549b-3 cLvVLf">svg</code> element. The complete <code class="sc-93f9549b-3 cLvVLf">&lt;Tree /&gt;</code> component definition is shown below:</p>
<pre><table class="prism-code language-jsx"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token keyword">import</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">*</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">as</span><span class="sc-93f9549b-1 eQfNpg token plain"> React </span><span class="sc-93f9549b-1 eQfNpg token keyword">from</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;react&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">import</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> Position </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">from</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;./helpers/TreeGraph&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">import</span><span class="sc-93f9549b-1 eQfNpg token plain"> positionTree</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> Options </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">from</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;./helpers/positionTree&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">interface</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">NodeProps</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> number</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> number</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="8" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  id</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> any</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="9" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  r</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> number</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="10" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  graph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="11" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="12" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="13" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">export</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">interface</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Props</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">extends</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Options</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="14" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/** The element that you wish to display at the root of the tree */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="15" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  rootId</span><span class="sc-93f9549b-1 eQfNpg token operator">?</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="16" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="17" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * The data structure of vertices</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="18" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="19" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Map</span><span class="sc-93f9549b-1 eQfNpg token operator">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token operator">&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="20" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="21" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Used in tandem with the vertices prop to pass in the node size that</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="22" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * will be used for each node</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="23" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="24" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  nodeSize</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> number</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="25" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="26" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Function that is called when there is an error. Returns an error</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="27" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * message that explains what went wrong</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="28" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="29" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  onError</span><span class="sc-93f9549b-1 eQfNpg token operator">?</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">message</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> string</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">void</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="30" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="31" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Function to render a node in the graph</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="32" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="33" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  children</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> NodeProps</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> React</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">ReactNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="34" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  className</span><span class="sc-93f9549b-1 eQfNpg token operator">?</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> string</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="35" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="36" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="37" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token constant">DEFAULT_NODE_SIZE</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">5</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="38" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="39" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="40" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment"> * Tree component</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="41" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment"> */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="42" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">class</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Tree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">extends</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">React</span><span class="sc-93f9549b-1 eQfNpg token class-name punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">Component</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">Props</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="43" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">static</span><span class="sc-93f9549b-1 eQfNpg token plain"> defaultProps </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="44" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    width</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">200</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="45" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    height</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">100</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="46" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    rootId</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="47" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    levelSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">20</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="48" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    maxDepth</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">Infinity</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="49" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    siblingSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">15</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="50" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    subtreeSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">15</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="51" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="52" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="53" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="54" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Render the nodes into a normalized tree based on the id&#x27;s</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="55" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * of the nodes that are their children. Here we create a TreeGraph</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="56" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * object that maps to the Nodes and call positionTree, the algorithm</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="57" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * that determines the optimal x-coordinates for each node in the tree</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="58" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="59" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token function-variable">renderTree</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="60" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">createTreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="61" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// If we can fit the nodes in the viewBox</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="62" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">if</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">renderFromVertexMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="63" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="64" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="65" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="66" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="67" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Render the node from the vertices map prop</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="68" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="69" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  renderFromVertexMap </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="70" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="71" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">|</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="72" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> children </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="73" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">if</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token operator">!</span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="74" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="75" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">forEach</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="76" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">getCoordinates</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="77" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> createdNode </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token function">children</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="78" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="79" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="80" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        id</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="81" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        r</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">nodeSizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token keyword">get</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">||</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token constant">DEFAULT_NODE_SIZE</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="82" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        graph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="83" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="84" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">push</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="85" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">createChildConnections</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="86" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="87" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">push</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">createdNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="88" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="89" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="90" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> svgElements</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="91" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="92" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="93" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="94" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Create a connection between a parent node and each of each children</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="95" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="96" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  createChildConnections </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="97" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="98" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="99" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="100" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="101" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> connectionNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Array</span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">React.ReactNode</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="102" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">if</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node </span><span class="sc-93f9549b-1 eQfNpg token operator">===</span><span class="sc-93f9549b-1 eQfNpg token plain"> undefined</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="103" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    childNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">forEach</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">childNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="104" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">getCoordinates</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="105" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain">childX</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> childY</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">getCoordinates</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">childNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="106" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      connectionNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">push</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="107" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">line</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="108" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">x1</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">x</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="109" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">y1</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">y</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="110" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">x2</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">childX</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="111" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">y2</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">childY</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="112" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">stroke</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain">#000</span><span class="sc-93f9549b-1 eQfNpg token tag attr-value punctuation">&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="113" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">strokeWidth</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script number">1</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="114" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">          </span><span class="sc-93f9549b-1 eQfNpg token plain">key</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string">`</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">${</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string">-</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">${</span><span class="sc-93f9549b-1 eQfNpg token plain">childNode</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string">`</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="115" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">/&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="116" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="117" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="118" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> connectionNodes</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="119" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="120" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="121" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="122" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Here we create the treeGraph object and call our positionTree alg,</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="123" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * which determines the final x and y positions of the nodes. We return</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="124" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * null if we cannot fit the nodes into the viewing box</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="125" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="126" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  createTreeGraph </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> TreeGraph </span><span class="sc-93f9549b-1 eQfNpg token operator">|</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="127" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> rootPosition</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> Position</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="128" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">rootId </span><span class="sc-93f9549b-1 eQfNpg token operator">||</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="129" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> x</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">width </span><span class="sc-93f9549b-1 eQfNpg token operator">/</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> y</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">5</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> prelim</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> mod</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="130" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="131" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">new</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">TreeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="132" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="133" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">nodeSizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="134" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      rootPosition</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="135" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="136" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> res </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token function">positionTree</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">treeGraph</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> rootPosition</span><span class="sc-93f9549b-1 eQfNpg token punctuation">[</span><span class="sc-93f9549b-1 eQfNpg token number">0</span><span class="sc-93f9549b-1 eQfNpg token punctuation">]</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="137" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      width</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">width</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="138" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      height</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">height</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="139" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      levelSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">levelSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="140" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      maxDepth</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">maxDepth</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="141" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      siblingSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">siblingSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="142" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      subtreeSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">subtreeSeparation</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="143" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="144" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">if</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token operator">!</span><span class="sc-93f9549b-1 eQfNpg token plain">res </span><span class="sc-93f9549b-1 eQfNpg token operator">&amp;&amp;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">onError</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="145" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">onError</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token string">&quot;Tree could not be rendered in the viewing rect&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="146" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> res </span><span class="sc-93f9549b-1 eQfNpg token operator">?</span><span class="sc-93f9549b-1 eQfNpg token plain"> treeGraph </span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">null</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="147" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="148" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="149" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token comment">/**</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="150" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   * Map of each node to its size</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="151" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">   */</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="152" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token keyword">get</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token function">nodeSizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> Map</span><span class="sc-93f9549b-1 eQfNpg token operator">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">TreeNode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> number</span><span class="sc-93f9549b-1 eQfNpg token operator">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="153" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> nodeSize </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="154" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> sizeMap </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">new</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">Map</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="155" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    vertices</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">forEach</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">_</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="156" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      sizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token keyword">set</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain">node</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> nodeSize</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="157" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="158" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> sizeMap</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="159" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="160" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="161" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token function">render</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="162" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"> width</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> height</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"> className </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">props</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="163" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token keyword">return</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="164" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;</span><span class="sc-93f9549b-1 eQfNpg token plain">svg</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">viewBox</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string">`0 0 </span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">${</span><span class="sc-93f9549b-1 eQfNpg token plain">width</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string"> </span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">${</span><span class="sc-93f9549b-1 eQfNpg token plain">height</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string interpolation interpolation-punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag script template-string string">`</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token plain">className</span><span class="sc-93f9549b-1 eQfNpg token tag script script-punctuation">=</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain">className</span><span class="sc-93f9549b-1 eQfNpg token tag script punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="165" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">        </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token keyword">this</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token function">renderTree</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="166" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      </span><span class="sc-93f9549b-1 eQfNpg token tag tag punctuation">&lt;/</span><span class="sc-93f9549b-1 eQfNpg token plain">svg</span><span class="sc-93f9549b-1 eQfNpg token tag punctuation">&gt;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="167" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="168" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="169" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="170" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="171" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">export</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token keyword">default</span><span class="sc-93f9549b-1 eQfNpg token plain"> Tree</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<h2>The result</h2>
<p class="sc-93f9549b-5 fFWCin">The final rendered output looks like this (you might recognize it from the demo at the beginning of the post):</p>
<svg viewBox="0 0 200 40"><line x1="100" y1="5" x2="80" y2="25" stroke="#000" stroke-width="1"></line><line x1="100" y1="5" x2="100" y2="25" stroke="#000" stroke-width="1"></line><line x1="100" y1="5" x2="120" y2="25" stroke="#000" stroke-width="1"></line><g><circle cx="100" cy="5" r="5" fill="rgb(15, 98, 189)"></circle><text x="100" y="6.5" style="font-size:5px" text-anchor="middle" fill="white">0</text></g><g><circle cx="80" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="80" y="26.5" style="font-size:5px" text-anchor="middle" fill="white">1</text></g><g><circle cx="100" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="100" y="26.5" style="font-size:5px" text-anchor="middle" fill="white">2</text></g><g><circle cx="120" cy="25" r="5" fill="rgb(15, 98, 189)"></circle><text x="120" y="26.5" style="font-size:5px" text-anchor="middle" fill="white">3</text></g></svg>
<h2>Documenting the component</h2>
<blockquote class="sc-ipEzrc EWfcu sc-fEXmZk cQwvFR sc-93f9549b-4 gDCgDp" font-weight="bold">
<p class="sc-93f9549b-5 fFWCin">You can have the coolest component in the world, but if there isn&#x27;t any documentation no one is going to use it - Confucious, probably.</p>
</blockquote>
<p class="sc-93f9549b-5 fFWCin">I love the idea of code as a living source of documentation, so when I saw <a href="https://www.docz.site/">docz</a>, it seemed like the perfect place to start. Docz allows you to display your components using <a href="https://github.com/mdx-js/mdx">MDX</a>, a document format that allows you to write markdown and render React components inline. The main component the package exposes is called <code class="sc-93f9549b-3 cLvVLf">Playground</code>, which both renders any component that is passed in as a child and displays the markup for that component. For example:</p>
<p class="sc-93f9549b-5 fFWCin"><img src="/static/minimax-continued/docz.png" alt="Docz" title="Example of docz playground component" class="sc-ezORud sc-93f9549b-7 A-dmdb lpqSji"/></p>
<p class="sc-93f9549b-5 fFWCin">They also provide a component called <code class="sc-93f9549b-3 cLvVLf">&lt;PropsTable /&gt;</code> that renders a table of the component&#x27;s props without you really having to do anything. Setting it up was as simple as running <code class="sc-93f9549b-3 cLvVLf">yarn add docz docz-theme-default</code> and aliasing <code class="sc-93f9549b-3 cLvVLf">yarn docz:start</code> to <code class="sc-93f9549b-3 cLvVLf">docz dev</code>. Add a file with a <code class="sc-93f9549b-3 cLvVLf">.mdx</code> extension anywhere in the project and viola - you now have component docs!</p>
<p class="sc-93f9549b-5 fFWCin">Docz was so good that I actually deleted my webpack-dev-server and just used it&#x27;s hot-reloading environment for development. Moving forward I&#x27;m definitely going to use it in all of my projects. Once my component was documented, I ran <code class="sc-93f9549b-3 cLvVLf">yarn add --dev gh-pages</code> and added the following lines to my <code class="sc-93f9549b-3 cLvVLf">package.json</code>:</p>
<pre><table class="prism-code language-json"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;scripts&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    ...</span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;docz:build&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;docz build&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;deploy&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;yarn docz:build &amp;&amp; gh-pages -d .docz/dist&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">Running this command builds a prod version of the docz pages, and then the <code class="sc-93f9549b-3 cLvVLf">gh-pages</code> package checks out the build directory into the <code class="sc-93f9549b-3 cLvVLf">gh-pages</code> branch of the repo, which github automatically deploys to <code class="sc-93f9549b-3 cLvVLf">http://[username].github.io/[repo-name]</code>.</p>
<h2>Publishing the package</h2>
<p class="sc-93f9549b-5 fFWCin">I&#x27;m not super experienced with webpack, so it took me a while to get builds to work properly. One important gotcha is that you should always specify <code class="sc-93f9549b-3 cLvVLf">react</code> and <code class="sc-93f9549b-3 cLvVLf">react-dom</code> as externals so that they don&#x27;t get bundled into your code, as they will always be available:</p>
<pre><table class="prism-code language-js"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token comment">// webpack.config.js</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token keyword">const</span><span class="sc-93f9549b-1 eQfNpg token plain"> path </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token function">require</span><span class="sc-93f9549b-1 eQfNpg token punctuation">(</span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;path&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">)</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">module</span><span class="sc-93f9549b-1 eQfNpg token punctuation">.</span><span class="sc-93f9549b-1 eQfNpg token plain">exports </span><span class="sc-93f9549b-1 eQfNpg token operator">=</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  entry</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;./src/index.ts&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="5" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  mode</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;production&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="6" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token operator">...</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="7" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  externals</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="8" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token comment">// Don&#x27;t bundle react or react-dom</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="9" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    react</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="10" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      commonjs</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;react&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="11" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      commonjs2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;react&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="12" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      amd</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;React&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="13" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      root</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;React&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="14" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="15" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;react-dom&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="16" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      commonjs</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;react-dom&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="17" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      commonjs2</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;react-dom&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="18" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      amd</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;ReactDOM&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="19" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">      root</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;ReactDOM&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="20" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="21" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="22" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain"></span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">;</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">You also need to specify them as peer-dependencies in your <code class="sc-93f9549b-3 cLvVLf">package.json</code>:</p>
<pre><table class="prism-code language-json"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;peerDependencies&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;react&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;^16.2.0&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token property">&quot;react-dom&quot;</span><span class="sc-93f9549b-1 eQfNpg token operator">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;^16.2.0&quot;</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">Another annoying issue as that umd bundling doesn&#x27;t work like you would expect with webpack. I was trying to render the component on this blog, which uses <a href="https://nextjs.org/">next.js</a> to server-render react. But every time I imported the bundle it would give me an error saying that window was not defined. This was because the package was being attached to the window object for loading in a browser environment, but the window object does not exist on the server, where the page is initially rendered. To get around this, I needed to add the following to my output config:</p>
<pre><table class="prism-code language-js"><tbody><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="0" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token string">&quot;output&quot;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token punctuation">{</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="1" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    </span><span class="sc-93f9549b-1 eQfNpg token operator">...</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="2" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    libraryTarget</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;umd&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="3" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">    globalObject</span><span class="sc-93f9549b-1 eQfNpg token punctuation">:</span><span class="sc-93f9549b-1 eQfNpg token plain"> </span><span class="sc-93f9549b-1 eQfNpg token string">&#x27;this&#x27;</span><span class="sc-93f9549b-1 eQfNpg token punctuation">,</span><span class="sc-93f9549b-1 eQfNpg token plain"></span></td></tr><tr class="sc-93f9549b-0 bwHIil token-line" style="color:#9a86fd"><td data-line-number="4" class="sc-93f9549b-2 cKFTel"></td><td><span class="sc-93f9549b-1 eQfNpg token plain">  </span><span class="sc-93f9549b-1 eQfNpg token punctuation">}</span></td></tr></tbody></table></pre>
<p class="sc-93f9549b-5 fFWCin">Then everything worked as expected in both the server and browser environments. After getting builds to work it was as simple as ignoring files I didn&#x27;t want to include in my <code class="sc-93f9549b-3 cLvVLf">.npmignore</code> and specifying <code class="sc-93f9549b-3 cLvVLf">&quot;main&quot;: &quot;dist/index.js&quot;</code> in my <code class="sc-93f9549b-3 cLvVLf">package.json</code>. Running <code class="sc-93f9549b-3 cLvVLf">yarn publish</code> allowed me to publish the package under <code class="sc-93f9549b-3 cLvVLf">react-svg-tree</code>. With that, I had a 19 KiB react component published on npm for rendering a general n-ary tree. Phew. The component will most likely be used heavily in my future posts. Speaking on which, I need to get on that.</p>
<hr class="sc-93f9549b-6 drVHVx"/>
<p class="sc-93f9549b-5 fFWCin">You can find the component source <a href="https://github.com/zacharyfmarion/react-svg-tree">here</a>, and its documentation <a href="https://zacharyfmarion.github.io/react-svg-tree/">here</a>. Feel free to open a PR if you find an issue!</p></div><div class="sc-bcXGCL lcsYXH sc-gswONk sc-6562bc95-1 fbEOhe fCOxsh"><div class="sc-bcXGCL kCKRkY sc-gswONk sc-6562bc95-0 hEGUbO hmMfpc"><div class="sc-bcXGCL iilstT sc-gswONk sc-326a0246-5 fbEOhe YAiKg"><div src="https://images.unsplash.com/photo-1489533119213-66a5cd877091?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=1080&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ&amp;s=19cb3f8faa546e028839b6985ee2491d" class="sc-bcXGCL VcdgP sc-gswONk sc-326a0246-6 fbEOhe cnAwJX"></div><div class="sc-bcXGCL kiYpAq sc-gswONk sc-326a0246-3 jJGXTe hhUUXT"><div class="sc-bcXGCL VcdgP sc-gswONk sc-326a0246-4 jJGXTe ighqXs"><h4 class="sc-csuRvn sc-326a0246-1 iSuWyL dBrdwB">Welcome</h4><div class="sc-ipEzrc sc-326a0246-2 iWuCdg jNKJua">Welcome to my blog! I&#x27;ve been meaning to create one for a while, and finally got around to actually ...</div></div><div class="sc-bcXGCL VcdgP sc-gswONk sc-326a0246-0 ezgAay ghgOMk">2 minute read</div></div></div></div></div><div class="sc-bcXGCL dqjrSo sc-gswONk sc-4f0ebad0-0 gTTOPC jSSbPW"><div class="sc-bcXGCL VcdgP sc-jIRdtd sc-4f0ebad0-3 gdYpOE iQbYMp"><div class="sc-bcXGCL VcdgP sc-gswONk hTHaTy"><div class="sc-ipEzrc csYlgg"><a href="http://zacharyfmarion.io" class="sc-4f0ebad0-2 iPUSvG">Zachary Marion</a>© <!-- -->2024</div></div><div class="sc-bcXGCL VcdgP sc-gswONk sc-4f0ebad0-1 hTHaTy hVKkoT"><a href="/posts">Latest Posts</a><a href="https://github.com/zacharyfmarion" target="_blank" class="sc-4f0ebad0-2 iPUSvG">Github</a><a href="https://twitter.com/zacfmarion" target="_blank" class="sc-4f0ebad0-2 iPUSvG">Twitter</a></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/posts/react-svg-tree","query":{},"buildId":"uGB_ha5Pxv7vIooKYAu7S","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>